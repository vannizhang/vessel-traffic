!function(e){function r(r){for(var n,o,l=r[0],s=r[1],c=r[2],f=0,_=[];f<l.length;f++)o=l[f],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&_.push(i[o][0]),i[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(u&&u(r);_.length;)_.shift()();return a.push.apply(a,c||[]),t()}function t(){for(var e,r=0;r<a.length;r++){for(var t=a[r],n=!0,l=1;l<t.length;l++){var s=t[l];0!==i[s]&&(n=!1)}n&&(a.splice(r--,1),e=o(o.s=t[0]))}return e}var n={},i={0:0},a=[];function o(r){if(n[r])return n[r].exports;var t=n[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=e,o.c=n,o.d=function(e,r,t){o.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,r){if(1&r&&(e=o(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)o.d(t,n,function(r){return e[r]}.bind(null,n));return t},o.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(r,"a",r),r},o.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},o.p="";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=r,l=l.slice();for(var c=0;c<l.length;c++)r(l[c]);var u=s;a.push([6,1]),t()}([,function(e,r,t){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r};Object.defineProperty(r,"__esModule",{value:!0});var i=n(t(0));r.AppContext=i.createContext(null),r.AppContextProvider=function(e){var t=e.children,n=i.useState("Passenger"),a=n[0],o=n[1],l=i.useState(),s={visibleSubLayer:a,setVisibleSubLayer:o,activeDate:l[0],setActiveDate:l[1]};return i.createElement(r.AppContext.Provider,{value:s},t)}},,,function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(13);r.App=n.default;var i=t(15);r.MapView=i.default;var a=t(5);r.ShipTrafficLayer=a.default;var o=t(17);r.LayerList=o.default;var l=t(18);r.TimeSlider=l.default},function(e,r,t){"use strict";var n=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(i,a){function o(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(o,l)}s((n=n.apply(e,r||[])).next())}))},i=this&&this.__generator||function(e,r){var t,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=r.call(e,o)}catch(e){a=[6,e],n=0}finally{t=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r};Object.defineProperty(r,"__esModule",{value:!0});var o=a(t(0)),l=t(2),s=t(1),c=t(16);r.ShipTrafficSubLayerStyles={Cargo:{"line-color":"#4CE600"},Fishing:{"line-color":"#0070FF"},Military:{"line-color":"#FF0000"},Passenger:{"line-color":"#C500FF"},Pleasure:{"line-color":"#FF73DF"},Tanker:{"line-color":"#FFFF00"},Tow:{"line-color":"#FFAA00"},Other:{"line-color":"#686868"}};r.default=function(e){var t=e.mapView,a=o.useContext(s.AppContext),u=a.visibleSubLayer,f=a.activeDate,_=o.useState(),p=_[0],v=_[1],d=function(){return n(void 0,void 0,void 0,(function(){var e,t,n,a,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,l.loadModules(["esri/layers/VectorTileLayer"])];case 1:return e=i.sent()[0],t=f.getFullYear(),n=f.getMonth()+1,a=c.ShipTrafficLayersData.filter((function(e){return e.Year===t&&e.Month===n}))[0],o=function(e){var t=e.Layer_Name,n=["Cargo","Fishing","Military","Passenger","Pleasure","Tanker","Tow","Other"].map((function(e,n){var i={"line-cap":"round","line-join":"round"};return e!==u&&(i.visibility="none"),{id:t+"/"+e,type:"line",source:"esri","source-layer":t,filter:["==","_symbol",n],layout:i,paint:{"line-color":r.ShipTrafficSubLayerStyles[e]["line-color"],"line-width":.333333}}}));return{version:8,sources:{esri:{type:"vector",url:e.Service_URL}},layers:n}}(a),[2,new e({url:a.Service_URL,style:o})];case 2:return i.sent(),[2,null];case 3:return[2]}}))}))};return o.useEffect((function(){t&&u&&f&&n(void 0,void 0,void 0,(function(){var e;return i(this,(function(r){switch(r.label){case 0:return p&&t.map.remove(p),[4,d()];case 1:return e=r.sent(),t.map.add(e),v(e),[2]}}))}))}),[u,f]),null}},function(e,r,t){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r};Object.defineProperty(r,"__esModule",{value:!0}),t(7);var i=n(t(0)),a=n(t(9)),o=t(4),l=t(1);a.render(i.createElement(l.AppContextProvider,null,i.createElement(o.App,null)),document.getElementById("root"))},function(e,r,t){},,,,,,function(e,r,t){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});var a=n(t(0)),o=t(4),l=i(t(14));r.default=function(){return a.createElement(a.Fragment,null,a.createElement(o.MapView,{webmapId:l.default.WebMapID},a.createElement(o.ShipTrafficLayer,null),a.createElement(o.TimeSlider,null)),a.createElement("div",{style:{position:"absolute",top:"1rem",right:"1rem",padding:"1rem 1.5rem",background:"rgba(0,0,0,.8)",color:"#efefef",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.3)",boxSizing:"border-box"}},a.createElement("div",null,a.createElement("h4",null,"U.S. Marine Vessel Traffic")),a.createElement(o.LayerList,null)),a.createElement("div",{style:{position:"absolute",bottom:"30px",left:"0",right:"0",display:"flex",justifyContent:"center"}},a.createElement("div",{id:"timeSliderDiv",style:{width:"1000px"}})))}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={WebMapID:"420fcfe5072e454897430380019f17cb"}},function(e,r,t){"use strict";var n=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(i,a){function o(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(o,l)}s((n=n.apply(e,r||[])).next())}))},i=this&&this.__generator||function(e,r){var t,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=r.call(e,o)}catch(e){a=[6,e],n=0}finally{t=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r};Object.defineProperty(r,"__esModule",{value:!0});var o=a(t(0)),l=t(2);r.default=function(e){var r=e.webmapId,t=e.children,a=o.useRef(),s=o.useState(null),c=s[0],u=s[1];return o.useEffect((function(){l.loadCss(),n(void 0,void 0,void 0,(function(){var e,t,n,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,l.loadModules(["esri/views/MapView","esri/WebMap"])];case 1:return e=i.sent(),t=e[0],n=e[1],(o=new t({container:a.current,map:new n({portalItem:{id:r}})})).when((function(){u(o)})),[3,3];case 2:return i.sent(),[3,3];case 3:return[2]}}))}))}),[]),o.createElement(o.Fragment,null,o.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},ref:a}),o.Children.map(t,(function(e){return o.cloneElement(e,{mapView:c})})))}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ShipTrafficLayersData=[{Month:1,Year:2017,Layer_Name:"U.S. Vessel Traffic - January 2017",ArcGIS_Online_Item_ID:"b121dce4172e4a8db43fdc197de6e640",Service_URL:"https://tiles.arcgis.com/tiles/bDAhvQYMG4WL8O5o/arcgis/rest/services/U_S__Vessel_Traffic___January_2017/VectorTileServer"},{Month:2,Year:2017,Layer_Name:"U.S. Vessel Traffic - February 2017",ArcGIS_Online_Item_ID:"d2c92689e4f64a5e92f2956e31150301",Service_URL:"https://tiles.arcgis.com/tiles/bDAhvQYMG4WL8O5o/arcgis/rest/services/U_S__Vessel_Traffic___February_2017/VectorTileServer"},{Month:3,Year:2017,Layer_Name:"U.S. Vessel Traffic - March 2017",ArcGIS_Online_Item_ID:"8113e409377249abba0df63117180a50",Service_URL:"https://tiles.arcgis.com/tiles/bDAhvQYMG4WL8O5o/arcgis/rest/services/U_S__Vessel_Traffic___March_2017/VectorTileServer"},{Month:4,Year:2017,Layer_Name:"U.S. Vessel Traffic - April 2017",ArcGIS_Online_Item_ID:"8d09634eba944da4bc4f7d6c55d42447",Service_URL:"https://tiles.arcgis.com/tiles/bDAhvQYMG4WL8O5o/arcgis/rest/services/U_S__Vessel_Traffic___April_2017/VectorTileServer"},{Month:5,Year:2017,Layer_Name:"U.S. Vessel Traffic - May 2017",ArcGIS_Online_Item_ID:"d9823061bded4e5e86a4009585d41330",Service_URL:"https://tiles.arcgis.com/tiles/bDAhvQYMG4WL8O5o/arcgis/rest/services/U_S__Vessel_Traffic___May_2017/VectorTileServer"},{Month:6,Year:2017,Layer_Name:"U.S. Vessel Traffic - June 2017",ArcGIS_Online_Item_ID:"51667153f5004cabad8aecbf918c0414",Service_URL:"https://tiles.arcgis.com/tiles/bDAhvQYMG4WL8O5o/arcgis/rest/services/U_S__Vessel_Traffic___June_2017/VectorTileServer"},{Month:7,Year:2017,Layer_Name:"U.S. Vessel Traffic - July 2017",ArcGIS_Online_Item_ID:"90e5225a4b8942949d34f89f270da259",Service_URL:"https://tiles.arcgis.com/tiles/bDAhvQYMG4WL8O5o/arcgis/rest/services/U_S__Vessel_Traffic___July_2017/VectorTileServer"},{Month:8,Year:2017,Layer_Name:"U.S. Vessel Traffic - August 2017",ArcGIS_Online_Item_ID:"61f7a0eec387417cab5c44acd4bb7a7d",Service_URL:"https://tiles.arcgis.com/tiles/bDAhvQYMG4WL8O5o/arcgis/rest/services/U_S__Vessel_Traffic___August_2017/VectorTileServer"},{Month:9,Year:2017,Layer_Name:"U.S. Vessel Traffic - September 2017",ArcGIS_Online_Item_ID:"90d48e321e794483b60de257ba4cec02",Service_URL:"https://tiles.arcgis.com/tiles/bDAhvQYMG4WL8O5o/arcgis/rest/services/U_S__Vessel_Traffic___September_2017/VectorTileServer"},{Month:10,Year:2017,Layer_Name:"U.S. Vessel Traffic - October 2017",ArcGIS_Online_Item_ID:"18deaa12b78d4fc0ba876a297b1e9c40",Service_URL:"https://tiles.arcgis.com/tiles/bDAhvQYMG4WL8O5o/arcgis/rest/services/U_S__Vessel_Traffic___October_2017/VectorTileServer"},{Month:11,Year:2017,Layer_Name:"U.S. Vessel Traffic - November 2017",ArcGIS_Online_Item_ID:"0047dbd06f834888962f815ff17f4034",Service_URL:"https://tiles.arcgis.com/tiles/bDAhvQYMG4WL8O5o/arcgis/rest/services/U_S__Vessel_Traffic___November_2017/VectorTileServer"},{Month:12,Year:2017,Layer_Name:"U.S. Vessel Traffic - December 2017",ArcGIS_Online_Item_ID:"da0ece23add342a3a3f9fdab2520fe51",Service_URL:"https://tiles.arcgis.com/tiles/bDAhvQYMG4WL8O5o/arcgis/rest/services/U_S__Vessel_Traffic___December_2017/VectorTileServer"}]},function(e,r,t){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r},i=this;Object.defineProperty(r,"__esModule",{value:!0});var a=n(t(0)),o=t(5),l=t(1);r.default=function(){var e=a.useContext(l.AppContext),r=e.visibleSubLayer,t=e.setVisibleSubLayer;return a.createElement("div",{style:{display:"flex"}},["Cargo","Fishing","Military","Passenger","Pleasure","Tanker","Tow","Other"].map((function(e,n){var l=o.ShipTrafficSubLayerStyles[e]["line-color"];return a.createElement("div",{key:"layer-list-"+n,style:{padding:".25rem .45rem",color:e===r?"#fff":"rgba(255,255,255,.65)",borderBottom:"3px solid "+(e===r?l:"rgba(255,255,255,.5)"),cursor:"pointer",boxSizing:"border-box"},onClick:t.bind(i,e)},a.createElement("span",{className:"font-size--3"},e))})))}},function(e,r,t){"use strict";var n=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(i,a){function o(e){try{s(n.next(e))}catch(e){a(e)}}function l(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){var r;e.done?i(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(o,l)}s((n=n.apply(e,r||[])).next())}))},i=this&&this.__generator||function(e,r){var t,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=r.call(e,o)}catch(e){a=[6,e],n=0}finally{t=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r};Object.defineProperty(r,"__esModule",{value:!0}),t(19);var o=a(t(0)),l=t(2),s=t(1);r.default=function(e){var r=e.mapView,t=o.useContext(s.AppContext).setActiveDate;return o.useEffect((function(){r&&n(void 0,void 0,void 0,(function(){var e,n;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,l.loadModules(["esri/widgets/TimeSlider"])];case 1:return e=i.sent()[0],n={value:1,unit:"months"},new e({container:"timeSliderDiv",view:r,fullTimeExtent:{start:new Date(2017,0,1),end:new Date(2017,11,1)},mode:"instant",stops:{interval:n}}).watch("timeExtent",(function(e){t(e.start)})),[3,3];case 2:return i.sent(),[3,3];case 3:return[2]}}))}))}),[r]),null}},function(e,r,t){}]);
//# sourceMappingURL=main.c93f2172dbdfe12b7a1d.js.map